<!DOCTYPE html>
<html lang="en-US" dir="ltr">

  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173201269-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-173201269-1');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="TSA passenger number data.">
    <link href="../../main.css" rel="stylesheet">
 
    <!-- Import highlight.js for code formatting and highlighting. --------- -->
    <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <!-- ------------------------------------------------------------------- -->

    <!-- Import font from Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono">

    <title>bbgatch | TSA Checkpoint Data</title>
  </head>

  <body>

    <!-- Navigation bar -->
    <nav role="navigation" aria-label="Main menu">
      <ul class="navbar">
        <li><a href="../../index.html">Home</a></li>
      </ul>
    </nav>


    <h1>TSA Checkpoint Passenger Numbers</h1>
    
    <p>At the start of the Covid-19 outbreak, the U.S. Transportation Security
       Administration <a href="https://www.tsa.gov/coronavirus/passenger-throughput">began sharing TSA security checkpoint passenger throughput numbers.</a></p>

    <p>Below are several plots created with <a href="https://matplotlib.org/">Matplotlib</a> showing the trend of TSA passengers through the pandemic. The code for these charts is stored on GitHub <a href="https://github.com/bbgatch/bbgatch.github.io/blob/main/projects/tsa/code/plot_data.py">here</a>.</p>
    
    <pre>
      <code>
        import pandas as pd
        import matplotlib.pyplot as plt
        from matplotlib import cm
        
        
        def plot_trend(width=10, height=6, show_plot=False):
            '''Plot complete trend of data.'''
        
            df = pd.read_csv('data/tsa.csv')
            df['Date'] = pd.to_datetime(df['Date'])
            latest_date = max(df['Date']).strftime('%Y-%m-%d')
        
            # Plot data
            plt.figure(figsize=(width, height))
            plt.plot(df['Date'], df['Passengers'], color='darkslategray')
            plt.suptitle('U.S. TSA Checkpoint Passengers',
                         x=0.01,
                         y=0.98,
                         fontweight='bold',
                         fontsize='x-large',
                         horizontalalignment='left')
            plt.figtext(0.99, 0.01, 'Data through ' + latest_date,
                        ha = 'right',
                        fontstyle='italic')
            # Convert axis labels to commas and remove scientific notation
            current_values = plt.gca().get_yticks()
            plt.gca().set_yticklabels(['{:,.0f}'.format(x) for x in current_values])
        
            # Highlight latest data point
            latest_number = df[df['Date'] == latest_date]['Passengers']
            latest_number = int(latest_number.iloc[0])
            plt.scatter(pd.to_datetime(latest_date),
                        latest_number,
                        color='goldenrod',
                        alpha=0.7,
                        s=70)
            plt.annotate("{:,}".format(latest_number),
                         xy=(pd.to_datetime(latest_date), latest_number * 1.02),
                         horizontalalignment='center'
                        )
        
            plt.savefig('images/tsa-full-trend.png')
            if show_plot:
                plt.show()
            print('Trend chart created.')
      </code>
    </pre>

    <img src="images/tsa-full-trend.png" alt="Trend plot of TSA checkpoint passengers.", class="responsive">
    <img src="images/tsa-by-year.png" alt="Trend plot of TSA checkpoint passengers by year.", class="responsive">
    <img src="images/tsa-pct-chg-by-year.png" alt="Trend plot of percent change in TSA checkpoint passengers by year.", class="responsive">
    <img src="images/tsa-pct-of-2019.png" alt="Trend plot of TSA checkpoint passengers as percent of 2019 by year.", class="responsive">
    

    <!-- Footer --------------------------------------------------------------->
    <footer>
      <a href="https://twitter.com/bbgatch"><img src="../../images/twitter-logo.png" alt="Twitter logo.", width="30"></a>
      <a href="https://github.com/bbgatch"><img src="../../images/github-logo.png" alt="GitHub logo.", width="30"></a>
      <a href="https://public.tableau.com/app/profile/bbgatch"><img src="../../images/tableau-logo.png" alt="Tableau logo.", width="30"></a>
      <a href="https://www.datacamp.com/profile/bbgatch"><img src="../../images/datacamp-logo.png" alt="DataCamp logo.", width="30"></a>
      <a href="https://www.kaggle.com/bbgatch"><img src="../../images/kaggle-logo.png" alt="Kaggle logo.", width="30"></a>
      <p>This site is hosted on <a href="https://pages.github.com/">GitHub Pages.</a>
         This font is <a href="https://www.jetbrains.com/lp/mono/">JetBrains Mono.</a></p>
    </footer>
    <!-- ------------------------------------------------------------------- -->

  </body>

</html>
